---
title: 数组和伪数组
date: 2019-09-15 22:47:57
tags:
---
## 数组
### 基本概念
**什么是数组？**
数组（array）是按次序排列的一组值。每个值的位置都有编号（从0开始），整个数组用方括号表示。
```js
var arr = ['a', 'b', 'c'];
//也可以像下面这样先定义后赋值。
var arr = [];

arr[0] = 'a';
arr[1] = 'b';
arr[2] = 'c';
```
上面代码中的`a`、`b`、`c`就构成一个数组，两端的方括号是数组的标志。`a`是0号位置，`b`是1号位置，`c`是2号位置。
任何类型的数据，都可以放入数组。
```js
var arr = [
  {a: 1},
  [1, 2, 3],
  function() {return true;}
];

arr[0] // Object {a: 1}
arr[1] // [1, 2, 3]
arr[2] // function (){return true;}
```
上面数组arr的3个成员依次是对象、数组、函数。

### 数组的本质
本质上，数组属于一种特殊的对象。`typeof`运算符会返回数组的类型是`object`。
```js
typeof [1, 2, 3] // "object"
```
数组的特殊性体现在，它的键名是按次序排列的一组整数（0，1，2...）。
```js
var arr = ['a', 'b', 'c'];

Object.keys(arr)
// ["0", "1", "2"]
```
上面代码中，`Object.keys`方法返回数组的所有键名。可以看到数组的键名就是整数0、1、2。(其实是字符串)之所以可以用数值读取，是因为非字符串的键名会被转为字符串。
由于数组成员的键名是固定的（默认总是0、1、2...），因此数组不用为每个元素指定键名，而对象的每个成员都必须指定键名。
数组成员只能用方括号`arr[0]`表示（方括号是运算符，可以接受数值）。
### length 属性
只要是数组，就一定有`length`属性。该属性是一个动态的值，等于键名中的最大整数加上1。
```js
var arr = ['a', 'b'];
arr.length // 2

arr[2] = 'c';
arr.length // 3

arr[9] = 'd';
arr.length // 10

arr[1000] = 'e';
arr.length // 1001
```
数组是一种动态的数据结构，可以随时增减数组的成员。
`length`属性是可写的。如果人为设置一个小于当前成员个数的值，该数组的成员会自动减少到`length`设置的值。在数组中多出来的成员，会被自动删除了。
清空数组的一个有效方法，就是将`length`属性设为0。
```js
var arr = [ 'a', 'b', 'c' ];

arr.length = 0;
arr // []
```
如果人为设置`length`大于当前元素个数，则数组的成员数量会增加到这个值，新增的位置都是空位。读取新增的位置都会返回`undefined`。
如果人为设置`length`为不合法的值，JavaScript 会报错。